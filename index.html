<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>

    <script>

        let inputs = [];
        let points = 0;


        const nameString = document.createElement("div");
        nameString.innerHTML = "Пожалуйста введите своё имя";
        document.body.appendChild(nameString);

        const input = document.createElement("input");
        document.body.appendChild(input);
        let nameInput = input;

        for (let i = 0; i < questions.length; i++) {
            const q = questions[i];
            const titleElement = document.createElement("div");
            titleElement.innerHTML = q.title;
            document.body.appendChild(titleElement);
            //ввод текста
            const input = document.createElement("input");
            inputs[i] = input;
            document.body.appendChild(input);
        }


        const button = document.createElement("input");
        button.type = "button";
        button.value = "Проверить";


        let winString = null;

        button.onclick = () => {
            if (!winString) {
                for (let i = 0; i < questions.length; i++) {
                    const q = questions[i];
                    if (!q.randomOrder) {
                        if (q.correctAnswer === inputs[i].value) {
                            points += q.points;
                        }
                    } else {
                        let words = q.correctAnswer.split(' ');
                        let ourWords = inputs[i].value.split(' ');
                        let correctWords = 0;
                        for (let l = 0; l < words.length; l++) {
                            for (let d = 0; d < ourWords.length; d++) {
                                if (words[l] === ourWords[d]) {
                                    correctWords++;
                                }
                            }
                        }
                        if (correctWords === words.length && correctWords === ourWords.length) {
                            points += q.points;
                        }
                    }
                }
                winString = document.createElement("h2");
                winString.innerHTML = `Поздравляю, вы набрали ${points} очков!!!`;
                document.body.appendChild(winString);
            }
        }

        document.body.appendChild(button);
    </script>

</body>

</html>